2025-05-26 13:31:30.155 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-05-26 13:31:30.685 INFO  [main] c.kirill.meetyou.MeetYou2Application - Starting MeetYou2Application using Java 21.0.7 with PID 4006 (/home/kirill/Java/MeetYou2/target/classes started by kirill in /home/kirill/Java/MeetYou2)
2025-05-26 13:31:30.693 INFO  [main] c.kirill.meetyou.MeetYou2Application - No active profile set, falling back to 1 default profile: "default"
2025-05-26 13:31:36.092 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26 13:31:36.569 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 440 ms. Found 6 JPA repository interfaces.
2025-05-26 13:31:40.593 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-26 13:31:40.633 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-26 13:31:40.638 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-26 13:31:40.640 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26 13:31:40.805 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-26 13:31:40.809 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9602 ms
2025-05-26 13:31:41.375 INFO  [main] c.k.m.filters.VisitCounterFilter - VisitCounterFilter initialized
2025-05-26 13:31:42.076 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26 13:31:42.250 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26 13:31:42.472 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-26 13:31:43.784 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26 13:31:43.907 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-26 13:31:45.436 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@33fec21
2025-05-26 13:31:45.447 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-26 13:31:45.595 WARN  [main] org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26 13:31:45.693 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26 13:31:52.074 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26 13:31:52.338 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 13:31:54.662 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26 13:31:59.328 INFO  [main] c.k.meetyou.controller.LogController - Директория для логов создана
2025-05-26 13:32:02.039 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26 13:32:04.900 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-26 13:32:04.959 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-26 13:32:05.017 INFO  [main] c.kirill.meetyou.MeetYou2Application - Started MeetYou2Application in 38.19 seconds (process running for 43.029)
2025-05-26 14:01:47.859 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26 14:01:48.020 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-26 14:01:48.220 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 14:01:48.343 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-26 14:01:48.419 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-26 14:01:48.484 INFO  [SpringApplicationShutdownHook] c.k.m.filters.VisitCounterFilter - VisitCounterFilter destroyed
2025-05-26 16:51:27.194 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-05-26 16:51:27.658 INFO  [main] c.kirill.meetyou.MeetYou2Application - Starting MeetYou2Application using Java 21.0.7 with PID 15309 (/home/kirill/Java/MeetYou2/target/classes started by kirill in /home/kirill/Java/MeetYou2)
2025-05-26 16:51:27.678 INFO  [main] c.kirill.meetyou.MeetYou2Application - No active profile set, falling back to 1 default profile: "default"
2025-05-26 16:51:33.920 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26 16:51:34.217 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 258 ms. Found 6 JPA repository interfaces.
2025-05-26 16:51:37.822 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-26 16:51:37.858 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-26 16:51:37.863 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-26 16:51:37.864 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26 16:51:38.027 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-26 16:51:38.028 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9966 ms
2025-05-26 16:51:38.379 INFO  [main] c.k.m.filters.VisitCounterFilter - VisitCounterFilter initialized
2025-05-26 16:51:38.847 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26 16:51:39.164 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26 16:51:39.293 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-26 16:51:40.729 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26 16:51:40.836 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-26 16:51:42.286 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@12a0d249
2025-05-26 16:51:42.292 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-26 16:51:42.503 WARN  [main] org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26 16:51:42.642 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26 16:51:46.968 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26 16:51:47.098 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 16:51:48.045 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26 16:51:49.746 INFO  [main] c.k.meetyou.controller.LogController - Директория для логов создана
2025-05-26 16:51:50.789 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26 16:51:52.403 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-26 16:51:52.427 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-26 16:51:52.446 INFO  [main] c.kirill.meetyou.MeetYou2Application - Started MeetYou2Application in 27.499 seconds (process running for 32.91)
2025-05-26 17:32:46.361 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26 17:32:46.369 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-26 17:32:46.376 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-05-26 17:32:46.814 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.create(User)
2025-05-26 17:32:46.817 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - Creating new user with email: kom@.com
2025-05-26 17:32:46.924 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        * 
    from
        users 
    where
        email = ?
2025-05-26 17:32:47.006 WARN  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - Invalid birth date for user: null
2025-05-26 17:32:47.010 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.UserService.create() with cause = NULL
2025-05-26 17:32:47.014 ERROR [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [ERROR] [POST] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.create(User): 400 BAD_REQUEST "Некорректная дата рождения"
2025-05-26 17:32:47.014 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.UserController.create() with cause = NULL
2025-05-26 17:32:57.687 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.create(User)
2025-05-26 17:32:57.688 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - Creating new user with email: kom@.com
2025-05-26 17:32:57.707 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        * 
    from
        users 
    where
        email = ?
2025-05-26 17:32:57.728 WARN  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - Invalid birth date for user: null
2025-05-26 17:32:57.729 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.UserService.create() with cause = NULL
2025-05-26 17:32:57.732 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [POST] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.create(User): 400 BAD_REQUEST "Некорректная дата рождения"
2025-05-26 17:32:57.740 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.UserController.create() with cause = NULL
2025-05-26 17:34:31.534 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:34:31.715 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:34:31.751 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:34:31.859 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:34:31.945 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:31.988 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:33.552 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:34:33.553 INFO  [http-nio-8080-exec-4] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:34:33.561 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:34:33.561 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:34:33.595 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:33.595 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:33.621 INFO  [http-nio-8080-exec-4] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:34:33.620 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:34:33.653 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:33.652 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:34.139 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:34:34.150 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:34:34.165 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.202 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:34:34.237 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:34:34.251 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:34:34.239 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:34:34.259 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.242 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.261 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.251 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:34.279 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.283 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:34:34.283 ERROR [http-nio-8080-exec-10] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:34:34.291 ERROR [http-nio-8080-exec-6] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:34:34.303 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:34:34.308 ERROR [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:34:34.308 ERROR [http-nio-8080-exec-6] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:34:34.311 ERROR [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:34:34.311 ERROR [http-nio-8080-exec-10] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:34:34.318 INFO  [http-nio-8080-exec-9] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:34:34.400 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:34:34.429 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:34:34.435 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:34:34.473 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:34:34.485 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:35:18.211 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest)
2025-05-26 17:35:18.223 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:18.234 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.updateInterestFact() with cause = NULL
2025-05-26 17:35:18.239 ERROR [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [ERROR] [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest): Bio not found for user id: 19
2025-05-26 17:35:18.239 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.updateInterestFact() with cause = NULL
2025-05-26 17:35:30.390 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/19/interests - void com.kirill.meetyou.controller.InterestController.addInterest(Long,String)
2025-05-26 17:35:30.393 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.InterestService - Добавление интереса 'Хокей' пользователю 19
2025-05-26 17:35:30.394 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:30.441 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.interest_type 
    from
        interests i1_0 
    where
        i1_0.interest_type=?
2025-05-26 17:35:30.457 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.id 
    from
        interests i1_0 
    where
        i1_0.interest_type=? 
    fetch
        first ? rows only
2025-05-26 17:35:30.509 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    insert 
    into
        interests
        (interest_type) 
    values
        (?)
2025-05-26 17:35:30.529 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:30.540 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.InterestService - Интерес 'Хокей' добавлен пользователю 19
2025-05-26 17:35:30.569 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    insert 
    into
        user_interest
        (user_id, interest_id) 
    values
        (?, ?)
2025-05-26 17:35:30.643 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:35:30.648 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:30.656 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:34.789 ERROR [http-nio-8080-exec-6] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: Required request parameter 'interestName' for method parameter type String is not present
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'interestName' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 17:35:37.004 ERROR [http-nio-8080-exec-1] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: Required request parameter 'interestName' for method parameter type String is not present
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'interestName' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 17:35:37.383 ERROR [http-nio-8080-exec-10] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: Required request parameter 'interestName' for method parameter type String is not present
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'interestName' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 17:35:45.648 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:35:45.669 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:35:45.676 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:35:45.689 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:35:45.704 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:45.709 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:35:45.711 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:45.714 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:45.717 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:45.717 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:35:45.729 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:35:45.731 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:35:45.743 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:35:45.751 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:35:45.786 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:45.790 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:51.284 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:35:51.285 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:35:51.288 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.292 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:35:51.295 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:51.289 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:35:51.301 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - ✅ [Cache Hit] Successfully retrieved user 19 FROM CACHE
2025-05-26 17:35:51.520 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:35:51.537 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:35:51.543 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.558 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:35:51.563 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:35:51.564 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:35:51.546 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:51.540 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.558 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:35:51.587 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:35:51.603 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:51.607 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:35:51.599 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.615 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:35:51.618 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.619 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.632 INFO  [http-nio-8080-exec-10] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:35:51.633 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:35:51.637 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:35:51.637 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:35:51.638 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:35:51.679 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:51.690 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:35:51.710 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:35:51.729 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:35:51.737 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:35:53.222 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:53.222 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:35:53.227 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:35:53.234 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:36:23.424 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:36:23.437 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:36:23.441 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:36:23.446 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:36:23.461 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:23.466 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:25.552 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:36:25.563 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:36:25.569 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:25.568 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:36:25.576 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:36:25.579 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:36:25.584 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:25.589 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:25.604 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:36:25.608 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:26.325 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:36:26.343 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:36:26.348 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.351 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.356 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:36:26.357 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:36:26.363 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:36:26.368 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:36:26.368 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:36:26.371 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:26.362 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:36:26.377 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:36:26.381 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:36:26.382 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.389 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.391 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.399 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:36:26.401 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:36:26.409 ERROR [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:36:26.410 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:36:26.403 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:36:26.476 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:36:26.479 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:36:26.482 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:36:26.490 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:36:26.501 INFO  [http-nio-8080-exec-9] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:37:20.627 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:37:20.644 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:37:20.647 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:37:20.649 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:37:20.650 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:37:20.653 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:37:20.667 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:20.671 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:37:20.672 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:37:20.674 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:20.686 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:20.694 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:20.701 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:20.701 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:20.718 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:20.737 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.267 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [POST] /api/friends/19/add/18 - ResponseEntity com.kirill.meetyou.controller.FriendController.addFriend(Long,Long)
2025-05-26 17:37:23.278 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.289 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.415 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        case 
            when count(f1_0.friend_id)>0 
                then true 
            else false 
    end 
from
    users u1_0 
join
    user_friends f1_0 
        on u1_0.id=f1_0.user_id 
where
    u1_0.id=? 
    and f1_0.friend_id=?
2025-05-26 17:37:23.433 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_1.id,
        f1_1.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        f1_1.birth,
        f1_1.email,
        f1_1.name 
    from
        user_friends f1_0 
    join
        users f1_1 
            on f1_1.id=f1_0.friend_id 
    left join
        bio b1_0 
            on f1_1.id=b1_0.user_id 
    where
        f1_0.user_id=?
2025-05-26 17:37:23.441 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        fo1_0.friend_id,
        fo1_1.id,
        fo1_1.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        fo1_1.birth,
        fo1_1.email,
        fo1_1.name 
    from
        user_friends fo1_0 
    join
        users fo1_1 
            on fo1_1.id=fo1_0.user_id 
    left join
        bio b1_0 
            on fo1_1.id=b1_0.user_id 
    where
        fo1_0.friend_id=?
2025-05-26 17:37:23.452 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:37:23.454 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:37:23.453 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    insert 
    into
        user_friends
        (user_id, friend_id) 
    values
        (?, ?)
2025-05-26 17:37:23.461 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.460 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:37:23.464 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:37:23.474 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.475 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:37:23.483 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:37:23.484 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.488 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.685 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:37:23.694 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.699 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:37:23.700 ERROR [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:37:23.701 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:37:23.711 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:37:23.712 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.739 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.772 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:37:23.785 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:37:23.794 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:23.806 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:37:23.811 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.813 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:37:23.829 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.840 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.847 INFO  [http-nio-8080-exec-8] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:37:23.852 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:37:23.858 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:37:23.859 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:37:23.863 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.865 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:37:23.875 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:37:23.875 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:37:23.877 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:37:23.883 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:37:23.884 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:37:23.898 INFO  [http-nio-8080-exec-10] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:37:23.886 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:37:23.933 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:07.778 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:38:07.784 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:38:07.787 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:07.792 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:07.794 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:07.800 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:38:07.803 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:07.804 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:07.817 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:07.821 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:07.830 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:38:07.830 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:07.843 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:07.855 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:07.880 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:07.903 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.108 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [POST] /api/friends/19/add/18 - ResponseEntity com.kirill.meetyou.controller.FriendController.addFriend(Long,Long)
2025-05-26 17:38:12.119 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.144 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.170 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        case 
            when count(f1_0.friend_id)>0 
                then true 
            else false 
    end 
from
    users u1_0 
join
    user_friends f1_0 
        on u1_0.id=f1_0.user_id 
where
    u1_0.id=? 
    and f1_0.friend_id=?
2025-05-26 17:38:12.177 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.FriendService.addFriend() with cause = NULL
2025-05-26 17:38:12.183 ERROR [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [ERROR] [POST] /api/friends/19/add/18 - ResponseEntity com.kirill.meetyou.controller.FriendController.addFriend(Long,Long): Users are already friends
2025-05-26 17:38:12.185 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.FriendController.addFriend() with cause = NULL
2025-05-26 17:38:12.444 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:12.444 INFO  [http-nio-8080-exec-8] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:38:12.455 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.472 INFO  [http-nio-8080-exec-8] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:38:12.480 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:12.483 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - ✅ [Cache Hit] Successfully retrieved user 18 FROM CACHE
2025-05-26 17:38:12.485 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.489 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.657 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:12.673 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.695 ERROR [http-nio-8080-exec-6] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:12.710 ERROR [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:38:12.711 ERROR [http-nio-8080-exec-6] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:12.720 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:12.740 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:12.751 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.762 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:12.775 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:12.778 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.823 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:12.848 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.860 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:12.860 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.889 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.890 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:38:12.901 ERROR [http-nio-8080-exec-7] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:12.908 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:12.916 ERROR [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:38:12.916 ERROR [http-nio-8080-exec-7] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:12.923 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.920 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:12.936 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:12.922 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:12.953 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:12.972 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:38:12.949 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:12.957 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:12.997 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:19.785 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:19.789 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:19.790 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:19.792 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:21.931 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:21.932 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:38:21.935 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:21.939 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:38:21.941 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:21.955 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:21.955 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - ✅ [Cache Hit] Successfully retrieved user 19 FROM CACHE
2025-05-26 17:38:22.219 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:22.249 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:22.262 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:22.274 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.265 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:22.279 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:22.281 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.282 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.284 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:22.286 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:22.289 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:22.291 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.294 ERROR [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:38:22.305 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:22.297 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.301 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:22.317 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:22.322 ERROR [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:38:22.322 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:22.302 INFO  [http-nio-8080-exec-1] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:38:22.349 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:22.397 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:22.399 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:22.406 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:22.426 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:22.434 INFO  [http-nio-8080-exec-8] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:38:46.903 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:38:46.919 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:46.925 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:38:46.930 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:46.927 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:38:46.939 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:46.941 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:46.944 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:46.945 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:38:46.950 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:46.951 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:46.958 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:46.969 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:46.976 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:46.980 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:46.995 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.120 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [POST] /api/friends/19/add/18 - ResponseEntity com.kirill.meetyou.controller.FriendController.addFriend(Long,Long)
2025-05-26 17:38:51.124 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.136 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.148 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        case 
            when count(f1_0.friend_id)>0 
                then true 
            else false 
    end 
from
    users u1_0 
join
    user_friends f1_0 
        on u1_0.id=f1_0.user_id 
where
    u1_0.id=? 
    and f1_0.friend_id=?
2025-05-26 17:38:51.158 ERROR [http-nio-8080-exec-7] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.FriendService.addFriend() with cause = NULL
2025-05-26 17:38:51.162 ERROR [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [ERROR] [POST] /api/friends/19/add/18 - ResponseEntity com.kirill.meetyou.controller.FriendController.addFriend(Long,Long): Users are already friends
2025-05-26 17:38:51.162 ERROR [http-nio-8080-exec-7] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.FriendController.addFriend() with cause = NULL
2025-05-26 17:38:51.281 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:51.282 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:38:51.284 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:38:51.284 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:38:51.287 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.291 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.296 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:38:51.303 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:38:51.304 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.307 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.492 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:51.508 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:51.511 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.528 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:51.529 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.532 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:38:51.532 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:51.545 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.583 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:51.589 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:51.600 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:51.599 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:51.615 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:38:51.622 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.624 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:38:51.626 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:38:51.638 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.639 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.628 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.647 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:38:51.654 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:38:51.633 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:38:51.658 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:38:51.633 INFO  [http-nio-8080-exec-6] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:38:51.654 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:38:51.672 ERROR [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:38:51.672 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:38:51.663 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:38:51.679 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:38:51.730 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:15.718 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/18/interests - void com.kirill.meetyou.controller.InterestController.addInterest(Long,String)
2025-05-26 17:39:15.720 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.InterestService - Добавление интереса 'Футбол' пользователю 18
2025-05-26 17:39:15.721 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:15.730 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.interest_type 
    from
        interests i1_0 
    where
        i1_0.interest_type=?
2025-05-26 17:39:15.735 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.id 
    from
        interests i1_0 
    where
        i1_0.interest_type=? 
    fetch
        first ? rows only
2025-05-26 17:39:15.742 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    insert 
    into
        interests
        (interest_type) 
    values
        (?)
2025-05-26 17:39:15.749 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:15.754 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.InterestService - Интерес 'Футбол' добавлен пользователю 18
2025-05-26 17:39:15.760 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    insert 
    into
        user_interest
        (user_id, interest_id) 
    values
        (?, ?)
2025-05-26 17:39:15.828 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:39:15.838 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:15.849 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:18.557 ERROR [http-nio-8080-exec-2] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: Required request parameter 'interestName' for method parameter type String is not present
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'interestName' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 17:39:33.366 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:33.369 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:33.368 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:33.379 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:35.411 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:39:35.417 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:39:35.422 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:39:35.427 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:39:35.432 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:35.438 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:35.454 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:35.469 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:35.471 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:39:35.476 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:35.485 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:35.489 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:39:35.494 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:39:35.501 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:39:35.526 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:35.548 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:39.805 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:39:39.806 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:39:39.796 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:39:39.808 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:39:39.821 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:39.823 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:39.837 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:39:39.836 INFO  [http-nio-8080-exec-5] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:39:39.843 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:39.842 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:40.146 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:39:40.167 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:39:40.170 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.176 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.183 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:40.187 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:40.190 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:40.197 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:39:40.199 ERROR [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:39:40.199 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:39:40.201 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:39:40.197 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:39:40.197 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:39:40.206 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.249 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.252 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:39:40.255 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.260 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:39:40.261 INFO  [http-nio-8080-exec-10] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:39:40.266 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:39:40.266 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:39:40.293 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:39:40.304 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:39:40.307 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:39:40.331 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:39:40.334 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:40:28.501 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest)
2025-05-26 17:40:28.511 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:40:28.515 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.updateInterestFact() with cause = NULL
2025-05-26 17:40:28.516 ERROR [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [ERROR] [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest): Bio not found for user id: 19
2025-05-26 17:40:28.516 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.updateInterestFact() with cause = NULL
2025-05-26 17:41:43.216 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:43.221 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:43.222 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:43.229 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:45.372 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:41:45.396 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:41:45.404 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:41:45.406 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:41:45.414 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:45.426 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:45.445 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:45.445 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:41:45.448 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:45.452 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:45.456 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:45.463 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:41:45.473 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:41:45.493 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:41:45.518 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:45.525 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:46.762 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:41:46.762 INFO  [http-nio-8080-exec-9] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:41:46.765 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:41:46.765 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 17:41:46.768 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:46.776 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:46.779 INFO  [http-nio-8080-exec-9] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:41:46.787 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 17:41:46.789 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:46.791 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:47.120 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:41:47.141 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.153 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:41:47.156 ERROR [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:41:47.161 ERROR [http-nio-8080-exec-5] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:41:47.169 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:41:47.172 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:47.181 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.183 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:47.194 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:41:47.213 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:41:47.220 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.235 INFO  [http-nio-8080-exec-3] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:41:47.301 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:41:47.320 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:41:47.323 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:41:47.332 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.335 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:41:47.345 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.346 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:41:47.350 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:41:47.354 INFO  [http-nio-8080-exec-6] c.k.meetyou.service.PhotoService - Фотографии для пользователя 19 не найдены
2025-05-26 17:41:47.360 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:41:47.369 ERROR [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 17:41:47.369 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:41:47.374 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:57:38.249 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/19/photos/batch - ResponseEntity com.kirill.meetyou.controller.PhotoController.addMultiplePhotos(Long,List,String)
2025-05-26 17:57:38.254 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:57:38.285 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    insert 
    into
        photos
        (is_main, photo_url, upload_date, user_id) 
    values
        (?, ?, ?, ?)
2025-05-26 17:57:38.296 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.PhotoService - Успешно добавлено 1 фотографий для пользователя 19
2025-05-26 17:57:38.379 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:57:38.386 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:57:59.339 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:57:59.346 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:57:59.355 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:57:59.357 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:57:59.362 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:57:59.363 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:57:59.368 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:57:59.371 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:57:59.372 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:57:59.380 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:57:59.372 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:57:59.374 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:57:59.391 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:57:59.393 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:57:59.408 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:57:59.419 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.679 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:58:01.679 INFO  [http-nio-8080-exec-8] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:58:01.681 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.695 INFO  [http-nio-8080-exec-8] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:58:01.696 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.692 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:58:01.697 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - ✅ [Cache Hit] Successfully retrieved user 18 FROM CACHE
2025-05-26 17:58:01.698 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.846 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:58:01.855 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.858 ERROR [http-nio-8080-exec-10] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:58:01.859 ERROR [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:58:01.860 ERROR [http-nio-8080-exec-10] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:58:01.900 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:58:01.910 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.911 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:01.916 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:01.922 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:01.923 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.938 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:01.939 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:58:01.927 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:58:01.942 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:58:01.944 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:01.946 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.952 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.955 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.960 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:01.964 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:01.971 INFO  [http-nio-8080-exec-5] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:58:01.965 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:58:01.974 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:58:01.979 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:58:01.980 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:01.974 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:02.019 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:58:02.036 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:02.044 INFO  [http-nio-8080-exec-6] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:58:17.450 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [DELETE] /api/friends/18/remove/19 - ResponseEntity com.kirill.meetyou.controller.FriendController.removeFriend(Long,Long)
2025-05-26 17:58:17.458 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:17.467 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:17.475 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        case 
            when count(f1_0.friend_id)>0 
                then true 
            else false 
    end 
from
    users u1_0 
join
    user_friends f1_0 
        on u1_0.id=f1_0.user_id 
where
    u1_0.id=? 
    and f1_0.friend_id=?
2025-05-26 17:58:17.480 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.FriendService.removeFriend() with cause = NULL
2025-05-26 17:58:17.481 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [DELETE] /api/friends/18/remove/19 - ResponseEntity com.kirill.meetyou.controller.FriendController.removeFriend(Long,Long): Users are not friends
2025-05-26 17:58:17.483 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.FriendController.removeFriend() with cause = NULL
2025-05-26 17:58:18.588 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [DELETE] /api/friends/18/remove/19 - ResponseEntity com.kirill.meetyou.controller.FriendController.removeFriend(Long,Long)
2025-05-26 17:58:18.590 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:18.593 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:18.598 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        case 
            when count(f1_0.friend_id)>0 
                then true 
            else false 
    end 
from
    users u1_0 
join
    user_friends f1_0 
        on u1_0.id=f1_0.user_id 
where
    u1_0.id=? 
    and f1_0.friend_id=?
2025-05-26 17:58:18.600 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.FriendService.removeFriend() with cause = NULL
2025-05-26 17:58:18.602 ERROR [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [ERROR] [DELETE] /api/friends/18/remove/19 - ResponseEntity com.kirill.meetyou.controller.FriendController.removeFriend(Long,Long): Users are not friends
2025-05-26 17:58:18.602 ERROR [http-nio-8080-exec-1] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.FriendController.removeFriend() with cause = NULL
2025-05-26 17:58:31.088 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:58:31.095 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:58:31.098 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 17:58:31.099 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:31.105 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:31.101 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:31.111 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:31.114 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:31.114 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:31.129 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 17:58:31.141 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:31.139 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:31.151 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:31.153 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:31.169 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:31.178 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.179 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:58:36.185 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:58:36.188 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.196 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 17:58:36.196 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 18 not found in cache, querying database...
2025-05-26 17:58:36.198 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.199 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:58:36.200 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.205 INFO  [http-nio-8080-exec-3] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 18 in cache
2025-05-26 17:58:36.206 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.317 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:58:36.328 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.333 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:58:36.338 ERROR [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:58:36.338 ERROR [http-nio-8080-exec-4] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:58:36.384 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:58:36.391 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:36.393 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:36.396 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.402 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:36.410 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:58:36.411 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.413 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 17:58:36.417 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.417 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/18/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 17:58:36.420 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 17:58:36.419 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 17:58:36.422 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.424 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.428 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.429 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 17:58:36.438 INFO  [http-nio-8080-exec-1] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 17:58:36.441 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.430 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 17:58:36.453 ERROR [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/18/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 18
2025-05-26 17:58:36.453 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 17:58:36.456 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 17:58:36.474 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 17:58:36.482 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 17:58:36.488 INFO  [http-nio-8080-exec-7] c.k.meetyou.service.PhotoService - Фотографии для пользователя 18 не найдены
2025-05-26 18:09:01.341 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 18:09:01.356 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 18:09:01.469 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 18:09:01.521 INFO  [http-nio-8080-exec-2] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 18:09:01.587 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 18:09:01.732 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 18:09:01.857 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 18:09:01.873 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 18:09:01.878 ERROR [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 18:09:01.879 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 18:57:36.559 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest)
2025-05-26 18:57:37.068 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 18:57:37.146 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.updateInterestFact() with cause = NULL
2025-05-26 18:57:37.153 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [PUT] /api/users/19/interest_fact - ResponseEntity com.kirill.meetyou.controller.BioController.updateInterestFact(Long,UpdateInterestFactRequest): Bio not found for user id: 19
2025-05-26 18:57:37.153 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.updateInterestFact() with cause = NULL
2025-05-26 19:02:35.303 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 19:02:35.533 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 19:02:35.607 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 19:02:35.673 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 19:02:36.199 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:02:36.228 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:02:38.071 ERROR [http-nio-8080-exec-4] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: No static resource favicon.ico.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 19:10:13.079 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 19:10:13.085 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 19:10:13.088 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 19:10:13.093 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 19:10:13.104 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:13.111 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:14.786 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 19:10:14.793 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 19:10:14.798 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 19:10:14.804 INFO  [http-nio-8080-exec-10] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 19:10:14.814 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:14.815 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:14.826 INFO  [http-nio-8080-exec-1] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 19:10:14.829 INFO  [http-nio-8080-exec-10] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 19:10:14.837 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:14.839 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:15.417 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 19:10:15.409 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 19:10:15.430 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:15.443 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:15.451 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 19:10:15.456 ERROR [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 19:10:15.456 ERROR [http-nio-8080-exec-9] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 19:10:15.461 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 19:10:15.468 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 19:10:15.475 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 19:10:15.476 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:15.490 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:15.501 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 19:10:15.502 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:15.505 ERROR [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 19:10:15.505 ERROR [http-nio-8080-exec-3] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 19:10:15.517 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 19:10:15.529 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 19:10:15.531 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 19:10:15.541 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:15.545 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 19:10:15.556 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 19:10:15.560 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 19:10:15.566 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 19:10:35.725 ERROR [http-nio-8080-exec-10] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: Request method 'POST' is not supported
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 19:27:21.949 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26 19:27:22.055 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-26 19:27:22.209 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 19:27:22.342 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-26 19:27:22.424 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-26 19:27:22.536 INFO  [SpringApplicationShutdownHook] c.k.m.filters.VisitCounterFilter - VisitCounterFilter destroyed
2025-05-26 20:19:41.782 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-05-26 20:19:41.943 INFO  [main] c.kirill.meetyou.MeetYou2Application - Starting MeetYou2Application using Java 21.0.7 with PID 30578 (/home/kirill/Java/MeetYou2/target/classes started by kirill in /home/kirill/Java/MeetYou2)
2025-05-26 20:19:41.953 INFO  [main] c.kirill.meetyou.MeetYou2Application - No active profile set, falling back to 1 default profile: "default"
2025-05-26 20:19:46.254 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26 20:19:46.669 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 352 ms. Found 6 JPA repository interfaces.
2025-05-26 20:19:49.534 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-26 20:19:49.590 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-26 20:19:49.601 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-26 20:19:49.602 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26 20:19:49.815 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-26 20:19:49.816 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7488 ms
2025-05-26 20:19:50.270 INFO  [main] c.k.m.filters.VisitCounterFilter - VisitCounterFilter initialized
2025-05-26 20:19:50.729 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26 20:19:50.901 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26 20:19:51.018 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-26 20:19:51.660 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26 20:19:51.728 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-26 20:19:52.540 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35d4035f
2025-05-26 20:19:52.543 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-26 20:19:52.630 WARN  [main] org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26 20:19:52.674 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26 20:19:55.439 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26 20:19:55.607 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 20:19:56.804 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26 20:19:58.648 INFO  [main] c.k.meetyou.controller.LogController - Директория для логов создана
2025-05-26 20:19:59.842 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26 20:20:01.259 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-26 20:20:01.286 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-26 20:20:01.311 INFO  [main] c.kirill.meetyou.MeetYou2Application - Started MeetYou2Application in 20.91 seconds (process running for 26.584)
2025-05-26 20:20:42.081 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26 20:20:42.082 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-26 20:20:42.088 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-05-26 20:20:42.597 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/18/bio - ResponseEntity com.kirill.meetyou.controller.BioController.createUserBio(Long,CreateRequest)
2025-05-26 20:20:42.734 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:20:43.362 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
2025-05-26 20:20:43.434 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    insert 
    into
        bio
        (interest_fact, user_id, bio) 
    values
        (?, ?, ?)
2025-05-26 20:21:52.759 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 20:21:52.789 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 20:21:52.828 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 20:21:52.851 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 20:21:52.932 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:21:52.949 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:00.171 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users - ResponseEntity com.kirill.meetyou.controller.UserController.findAll()
2025-05-26 20:22:00.181 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0
2025-05-26 20:22:00.185 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 20:22:00.191 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    where
        b1_0.user_id=?
2025-05-26 20:22:00.201 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:00.215 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:01.887 INFO  [http-nio-8080-exec-6] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 20:22:01.890 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - ⏳ [Cache Miss] User 19 not found in cache, querying database...
2025-05-26 20:22:01.898 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:01.920 INFO  [http-nio-8080-exec-6] c.kirill.meetyou.service.UserService - 📥 [Cache Store] Stored user 19 in cache
2025-05-26 20:22:01.919 INFO  [http-nio-8080-exec-7] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19 - ResponseEntity com.kirill.meetyou.controller.UserController.getById(Long)
2025-05-26 20:22:01.923 INFO  [http-nio-8080-exec-7] c.kirill.meetyou.service.UserService - ✅ [Cache Hit] Successfully retrieved user 19 FROM CACHE
2025-05-26 20:22:01.959 DEBUG [http-nio-8080-exec-6] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:01.960 DEBUG [http-nio-8080-exec-7] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:02.369 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 20:22:02.412 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.419 INFO  [http-nio-8080-exec-9] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 20:22:02.429 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 20:22:02.431 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.435 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 20:22:02.455 ERROR [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 20:22:02.458 ERROR [http-nio-8080-exec-8] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 20:22:02.495 INFO  [http-nio-8080-exec-1] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 20:22:02.519 DEBUG [http-nio-8080-exec-9] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:02.519 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 20:22:02.532 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.572 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long)
2025-05-26 20:22:02.591 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/interests - Set com.kirill.meetyou.controller.InterestController.getUserInterests(Long)
2025-05-26 20:22:02.585 INFO  [http-nio-8080-exec-3] c.k.meetyou.aspect.LoggingAspect - [GET] /api/friends/19/all - ResponseEntity com.kirill.meetyou.controller.FriendController.getAllFriends(Long)
2025-05-26 20:22:02.603 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio 
    from
        bio b1_0 
    left join
        users u1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.609 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.613 INFO  [http-nio-8080-exec-5] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/19/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 20:22:02.614 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    join
        user_friends f1_0 
            on u1_0.id=f1_0.user_id 
    where
        f1_0.friend_id=?
2025-05-26 20:22:02.616 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.service.BioService.getFullBioByUserId() with cause = NULL
2025-05-26 20:22:02.619 DEBUG [http-nio-8080-exec-5] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 20:22:02.631 ERROR [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [ERROR] [GET] /api/users/19/bioall - ResponseEntity com.kirill.meetyou.controller.BioController.getFullBio(Long): Bio not found for user id: 19
2025-05-26 20:22:02.631 ERROR [http-nio-8080-exec-2] c.k.m.aspect.ErrorHandlingAspect - Exception in com.kirill.meetyou.controller.BioController.getFullBio() with cause = NULL
2025-05-26 20:22:02.643 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        i1_0.user_id,
        i1_1.id,
        i1_1.interest_type 
    from
        user_interest i1_0 
    join
        interests i1_1 
            on i1_1.id=i1_0.interest_id 
    where
        i1_0.user_id=?
2025-05-26 20:22:40.422 ERROR [http-nio-8080-exec-7] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: No static resource api/users/19/fact.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users/19/fact.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 20:45:49.828 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26 20:45:50.142 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-26 20:45:50.429 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 20:45:50.618 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-26 20:45:51.082 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-26 20:45:51.286 INFO  [SpringApplicationShutdownHook] c.k.m.filters.VisitCounterFilter - VisitCounterFilter destroyed
2025-05-26 23:18:34.484 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-05-26 23:18:34.798 INFO  [main] c.kirill.meetyou.MeetYou2Application - Starting MeetYou2Application using Java 21.0.7 with PID 43123 (/home/kirill/Java/MeetYou2/target/classes started by kirill in /home/kirill/Java/MeetYou2)
2025-05-26 23:18:34.801 INFO  [main] c.kirill.meetyou.MeetYou2Application - No active profile set, falling back to 1 default profile: "default"
2025-05-26 23:18:38.532 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26 23:18:38.728 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 6 JPA repository interfaces.
2025-05-26 23:18:41.082 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-26 23:18:41.115 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-26 23:18:41.122 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-26 23:18:41.123 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26 23:18:41.312 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-26 23:18:41.314 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6328 ms
2025-05-26 23:18:41.631 INFO  [main] c.k.m.filters.VisitCounterFilter - VisitCounterFilter initialized
2025-05-26 23:18:42.037 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26 23:18:42.211 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26 23:18:42.392 INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-26 23:18:43.370 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26 23:18:43.475 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-26 23:18:44.327 INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@64688978
2025-05-26 23:18:44.333 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-26 23:18:44.408 WARN  [main] org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26 23:18:44.500 INFO  [main] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26 23:18:47.041 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26 23:18:47.183 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 23:18:48.222 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26 23:18:49.920 INFO  [main] c.k.meetyou.controller.LogController - Директория для логов создана
2025-05-26 23:18:50.922 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26 23:18:52.402 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-26 23:18:52.435 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-26 23:18:52.456 INFO  [main] c.kirill.meetyou.MeetYou2Application - Started MeetYou2Application in 20.237 seconds (process running for 25.938)
2025-05-26 23:23:41.178 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26 23:23:41.183 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-26 23:23:41.202 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-05-26 23:23:41.654 INFO  [http-nio-8080-exec-2] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.addPhoto(Long,MultipartFile,String)
2025-05-26 23:23:41.763 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 23:23:42.228 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    update
        photos p1_0 
    set
        is_main='false' 
    where
        p1_0.user_id=?
2025-05-26 23:23:42.328 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    insert 
    into
        photos
        (is_main, photo_url, upload_date, user_id) 
    values
        (?, ?, ?, ?)
2025-05-26 23:23:42.416 INFO  [http-nio-8080-exec-2] c.k.meetyou.service.PhotoService - Фотография успешно добавлена для пользователя 18
2025-05-26 23:24:25.286 ERROR [http-nio-8080-exec-3] c.k.m.e.GlobalExceptionHandler - Unhandled exception occurred: No static resource home/kirill/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F/4c1f30a4-734c-4c8b-902d-fa7c3263628b_photo.jpeg.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource home/kirill/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F/4c1f30a4-734c-4c8b-902d-fa7c3263628b_photo.jpeg.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.kirill.meetyou.filters.VisitCounterFilter.doFilter(VisitCounterFilter.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.kirill.meetyou.filters.VisitCounterFilter$$SpringCGLIB$$0.doFilter(<generated>)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-26 23:26:48.442 INFO  [http-nio-8080-exec-4] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 23:26:48.605 DEBUG [http-nio-8080-exec-4] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 23:27:55.589 INFO  [http-nio-8080-exec-8] c.k.meetyou.aspect.LoggingAspect - [POST] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.addPhoto(Long,MultipartFile,String)
2025-05-26 23:27:55.594 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        b1_0.id,
        b1_0.interest_fact,
        b1_0.user_id,
        b1_0.bio,
        u1_0.birth,
        u1_0.email,
        u1_0.name 
    from
        users u1_0 
    left join
        bio b1_0 
            on u1_0.id=b1_0.user_id 
    where
        u1_0.id=?
2025-05-26 23:27:55.613 DEBUG [http-nio-8080-exec-8] org.hibernate.SQL - 
    insert 
    into
        photos
        (is_main, photo_url, upload_date, user_id) 
    values
        (?, ?, ?, ?)
2025-05-26 23:27:55.621 INFO  [http-nio-8080-exec-8] c.k.meetyou.service.PhotoService - Фотография успешно добавлена для пользователя 18
2025-05-26 23:28:06.842 INFO  [http-nio-8080-exec-10] c.k.meetyou.aspect.LoggingAspect - [GET] /api/users/18/photos - ResponseEntity com.kirill.meetyou.controller.PhotoController.getAllPhotos(Long)
2025-05-26 23:28:06.853 DEBUG [http-nio-8080-exec-10] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.is_main,
        p1_0.photo_url,
        p1_0.upload_date,
        p1_0.user_id 
    from
        photos p1_0 
    left join
        users u1_0 
            on u1_0.id=p1_0.user_id 
    where
        u1_0.id=?
2025-05-26 23:28:26.258 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26 23:28:26.276 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-26 23:28:26.315 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26 23:28:26.322 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-26 23:28:26.383 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-26 23:28:26.390 INFO  [SpringApplicationShutdownHook] c.k.m.filters.VisitCounterFilter - VisitCounterFilter destroyed
